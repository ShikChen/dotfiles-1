# vim: set ft=sh:

fresh freshshell/fresh bin/fresh --bin
fresh freshshell/fresh contrib/source-build.sh --file=~/.zshrc

# pure-prompt
fresh sindresorhus/pure pure.zsh --file=vendor/.zfunctions/prompt_pure_setup
fresh sindresorhus/pure async.zsh --file=vendor/.zfunctions/async

fresh-options --file=~/.zshrc
  fresh zsh/plugins.zsh
fresh-options

fresh config/\* --file
fresh bin/\* --bin

fresh_after_build() {
  if [[ ! -f $FRESH_LOCAL/.setup ]]; then
    echo -e '\e[1;33mFirst time setup! Make sure we have everything installed...\e[m'
    pushd $FRESH_LOCAL
      ./setup/main.sh
    popd
    if [[ $? == 0 ]]; then
      touch $FRESH_LOCAL/.setup
      echo -e '\e[1;33mFirst time setup complete! Delete $FRESH_LOCAL/.setup and fresh to run again.\e[m'
    else
      echo -e '\e[1;31mFirst time setup fail QQ\e[m'
      exit 1
    fi
  fi
}
